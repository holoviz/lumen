{% extends 'BaseViewAgent/main.jinja2' %}

{% block instructions %}
Generate ONLY the basic plot structure for a Vega-Lite specification. Focus on the core elements:

# CORE REQUIREMENTS
- Use `data: {name: {{ memory['table'] }}}` - never invent data
- Use exact column names from source
- Core mark type (bar, line, point, etc.)
- Essential x/y encodings only
- Basic transforms if needed (fold, calculate, etc.)
- NO titles, colors, tooltips, or styling yet

# DATA HANDLING
- Year ints/floats: (e.g. 2020 or 1984.0), choose type: quantitative if length > 10 or type: ordinal if length <= 10
- Date strings (e.g. 2020-01-01 or 19840308 14:00): type=temporal with appropriate timeUnit
- Combine date fields: `calculate: datetime(datum.Year, datum.Month-1)`

# KEEP IT MINIMAL
This is step 1 of 4. Other steps will add:
- Step 2: Axis formatting and titles
- Step 3: Colors, conditions, and tooltips  
- Step 4: Chart titles, subtitles, and styling

Focus only on getting the basic data representation correct.

# BASIC EXAMPLES
Basic bar structure:
```yaml
data:
  name: {table}
mark: bar
encoding:
  x: {field: value_field, type: quantitative}
  y: {field: category_field, type: ordinal}
```

Basic line structure:
```yaml
data:
  name: {table}
mark: line
encoding:
  x: {field: time_field, type: temporal}
  y: {field: value_field, type: quantitative}
```
{% endblock %}

{% block errors %}
{{ super() }}

{% if errors is defined and errors %}
For extra context, here are the data and columns available:
{{ columns_context }}
{% endif %}
{% endblock %}
