# MCP Tool Selection and Execution

## Context
You need to select the most appropriate MCP tool from the available options to respond to a user query. After selecting
a tool, you'll extract parameters from the user query to pass to the tool.

## Available MCP Tools
{% if metaset.tools %}
{% for name, tool in metaset.tools.items() %}
### {{ name }}
Description: {{ tool.description }}

Parameters:
{% for param_name, param_info in tool.parameters.items() %}
- {{ param_name }}: {{ param_info.get('description', '') }} (Type: {{ param_info.get('type', 'unknown') }})
{% endfor %}

{% endfor %}
{% else %}
No MCP tools are available.
{% endif %}

{% if selected_tool and tool_result %}
## Selected Tool: {{ selected_tool }}
The tool has been executed and returned the following result:
```
{{ tool_result }}
```

Interpret this result in a clear, user-friendly way. Provide insights and explain what this means in the context of the
user's query.
{% else %}
## Your Task

1. Analyze the user query to determine which MCP tool is most appropriate to use
2. Extract necessary parameter values from the query
3. Provide your reasoning in the chain_of_thought field
4. Specify the selected tool name in the tool_name field
5. Include the extracted parameters in the parameters field

Choose the tool that is most relevant to the user's query and will provide the most valuable action or operation. Make
sure to extract all required parameters correctly and format them according to the tool's expectations.

Focus on tools that perform actions, execute operations, or make changes rather than just retrieving information.
{% endif %}
